(this.webpackJsonpart_collection_front=this.webpackJsonpart_collection_front||[]).push([[0],{162:function(e,t,n){e.exports=n(192)},170:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(42),u=n.n(c),o=n(12),l=(n(170),n(6)),i=n.n(l),s=n(9),p=function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"ERROR",data:e}),setTimeout((function(){return a({type:"EMPTY"})}),t+"00");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMPTY":return"";case"ERROR":return t.data;default:return e}},f=n(30),d=n.n(f),E={login:function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null,t({type:"LOGOUT",data:null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SETUSER",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUSER":case"LOGOUT":return t.data;default:return e}},g=n(113),y=function(e){var t=Object(a.useState)(""),n=Object(g.a)(t,2),r=n[0],c=n[1];return{type:e,value:r,onChange:function(e){c(e.target.value)},reset:function(e){c("")}}},O=n(13),w=n(205),x=n(213),T=Object(o.b)((function(e){return{notification:e.notification,error:e.error}}))((function(e){var t=e.notification,n=e.error;return""!==n?r.a.createElement(w.a,{style:{height:"50px"}},n&&r.a.createElement(x.a,{error:!0}," ",n," ")):r.a.createElement(w.a,{style:{height:"50px",paddingTop:"15px"}},t&&r.a.createElement(x.a,{success:!0}," ",t," "))})),k=n(214),j=n(208),I=n(206),C=n(193),P=Object(O.f)((function(e){var t=function(){var t=Object(s.a)(i.a.mark((function t(r){var c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,c={username:n.value,password:a.value},t.next=5,E.login(c);case 5:u=t.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(u)),e.history.push("/"),e.setUser(u.username),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.error(t.t0.response.data.error,30);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),n=y("text"),a=y("text");return r.a.createElement(w.a,{middle:"true",aligned:"true",style:{width:"50%",marginTop:"10em",backgroundColor:"teal",padding:"3em",borderRadius:"10px"}},r.a.createElement(k.a,{style:{color:"white",textAlign:"center"}},"Log in to your account "),r.a.createElement(w.a,null,"Login: user"),r.a.createElement(w.a,null,"Password: password"),r.a.createElement(T,null),r.a.createElement(j.a,{onSubmit:t},r.a.createElement(j.a.Field,{id:"password"},r.a.createElement(I.a,Object.assign({focus:!0,placeholder:"Enter username"},n))),r.a.createElement(j.a.Field,{id:"password"},r.a.createElement(I.a,Object.assign({focus:!0,placeholder:"Enter password"},a))),r.a.createElement(j.a.Field,{id:"login_button"},r.a.createElement(C.a,{type:"submit",color:"violet"},"Login"))))})),N={error:p,setUser:h},_=Object(o.b)(null,N)(P),A=n(22),S=n(211),L=n(84),R=n(112),U="https://article-collection-mp.herokuapp.com/api/posts",M=null,F={getAll:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(U);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:M}},e.next=3,d.a.post(U,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateLikes:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:M}},a="".concat(U,"/").concat(t.id),r=Object(L.a)(Object(L.a)({},t),{},{likes:t.likes+1}),e.next=5,d.a.put(a,r,n);case 5:return c=e.sent,e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePost:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:M}},e.next=3,d.a.put("".concat(U,"/").concat(t),n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:M}},a="".concat(U,"/").concat(t.id),e.next=4,d.a.delete(a,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){M="bearer ".concat(e)}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_POSTS":return t.data;case"DELETE":var n=t.data,a=e.filter((function(e){return e.id!==n.id}));return a;case"NEW_POST":return[].concat(Object(R.a)(e),[t.data]);case"UPDATE":var r=t.data,c=e.map((function(e){return e.id!==r.id?e:r}));return c;case"LIKE":var u=t.data.id,o=e.find((function(e){return e.id===u})),l=Object(L.a)(Object(L.a)({},o),{},{likes:o.likes+1}),i=e.map((function(e){return e.id!==u?e:l}));return i;default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE_NOTIFICATION":var n=t.data,a="You liked post '"+n+"'";return a;case"DELETE_NOTIFICATION":var r=t.data,c="You deleted post '"+r+"'";return c;case"UPDATE_NOTIFICATION":var u=t.data,o="You updated post '"+u+"'";return o;case"EMPTY":return"";case"NEWPOST_NOTIFICATION":var l=t.data,i="You created new post '"+l+"'";return i;default:return e}},Y={createPost:function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.create(e);case 2:a=t.sent,n({type:"NEW_POST",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updatePost:function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F.updatePost(e,t);case 2:r=n.sent,a({type:"UPDATE",data:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},newPost_notify:function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"NEWPOST_NOTIFICATION",data:e}),setTimeout((function(){return a({type:"EMPTY"})}),t+"00");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},updatePost_notify:function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"UPDATE_NOTIFICATION",data:e}),setTimeout((function(){return a({type:"EMPTY"})}),t+"00");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},error:p},W=Object(o.b)(null,Y)((function(e){var t=e.title,n=e.author,a=e.url,c=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:t.target.title.value,author:t.target.author.value,url:t.target.url.value,likes:0},t.target.title.value="",t.target.author.value="",t.target.url.value="",e.next=7,u(n.title);case 7:void 0===(a=e.sent)?o(n):l(a,n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll();case 2:return n=e.sent,e.next=5,n.find((function(e){return void 0!==e?e.title===t:void 0}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.createPost(n);case 3:e.newPost_notify(n.title,50),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.error(t.t0.response.data.error,50);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(s.a)(i.a.mark((function t(n,a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("".concat(n.title," already exists. Do you want to replace it?"))){t.next=10;break}return t.prev=1,t.next=4,e.updatePost(n.id,a);case 4:e.updatePost_notify(a.title,50),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.error(t.t0.response.data.error,50);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}();return r.a.createElement(w.a,null,r.a.createElement(k.a,{size:"medium"},"Create new post"),r.a.createElement(j.a,{onSubmit:c,id:"addForm"},r.a.createElement(j.a.Field,null,r.a.createElement(I.a,Object.assign({name:"title",placeholder:"Enter title"},t))),r.a.createElement(j.a.Field,null,r.a.createElement(I.a,Object.assign({name:"author",placeholder:"Enter author"},n))),r.a.createElement(j.a.Field,null,r.a.createElement(I.a,Object.assign({name:"url",placeholder:"Enter URL"},a))),r.a.createElement(C.a,{type:"submit",color:"violet"},"Add")))})),B=r.a.forwardRef((function(e,t){var n=Object(a.useState)(!1),c=Object(g.a)(n,2),u=c[0],o=c[1],l={display:u?"none":""},i={display:u?"":"none"},s=function(){o(!u)};return r.a.createElement(w.a,{style:{paddingTop:"20px"}},r.a.createElement(w.a,{style:l},r.a.createElement(C.a,{color:"violet",onClick:s},e.buttonLabel)),r.a.createElement(w.a,{style:i,className:"togglableContent"},e.children,r.a.createElement(C.a,{color:"red",onClick:s,style:{marginTop:"10px"}},"Cancel")))})),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.filter;default:return e}},H={filterChange:function(e){return{type:"SET_FILTER",filter:e}}},J=Object(o.b)((function(e){return{filter:e.filter}}),H)((function(e){return r.a.createElement(I.a,{style:{paddingTop:"20px"},placeholder:"Search",onChange:function(t){e.filterChange(t.target.value)},value:e.filter})})),K=function(e){var t=e.posts,n=e.filter;return void 0!==n?t.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())})):t},q=Object(o.b)((function(e){return{visiblePosts:K(e)}}),null)((function(e){return r.a.createElement(w.a,null,r.a.createElement(B,{buttonLabel:"New Post"},r.a.createElement(W,null)),r.a.createElement(J,null),r.a.createElement(S.a,{striped:!0,celled:!0},r.a.createElement(S.a.Body,null,e.visiblePosts.map((function(e){return r.a.createElement(S.a.Row,{key:e.id},r.a.createElement(S.a.Cell,null,r.a.createElement(A.b,{to:"/posts/".concat(e.id)},e.title)),r.a.createElement(S.a.Cell,null,e.user.username))})))))})),Q=Object(O.f)((function(e){var t=function(){var t=Object(s.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.logout();case 4:a=t.sent,window.localStorage.removeItem("loggedBlogAppUser",JSON.stringify(a)),e.setUser(null),e.history.push("/login"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.error(t.t0,30);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(C.a,{onClick:t,color:"violet"},"Log out")})),V=Object(o.b)(null,{logout:v,setUser:h})(Q),X=n(209),Z=Object(o.b)(null,null)((function(e){return r.a.createElement("div",null,r.a.createElement(X.a,{inverted:!0,color:"teal"},r.a.createElement(X.a.Item,{link:!0},r.a.createElement(A.b,{to:"/"},"Home")),r.a.createElement(X.a.Item,{link:!0},r.a.createElement(A.b,{to:"/users"},"Users")),r.a.createElement(X.a.Menu,{position:"right"},r.a.createElement(X.a.Item,{link:!0},e.user?r.a.createElement("em",null,e.user," logged in ",r.a.createElement(V,null)):r.a.createElement(A.b,{to:"/login"},"login")))))})),$=n(216),ee=n(217),te=n(207),ne=n(212),ae=Object(o.b)(null,null)((function(){return r.a.createElement($.a,{inverted:!0,color:"teal",vertical:!0,style:{width:"100%",padding:"5em 0em",bottom:"0px",marginTop:"3em"}},r.a.createElement(w.a,{textAlign:"center"},r.a.createElement(ee.a.Column,{width:7},r.a.createElement(k.a,{inverted:!0,as:"h4",content:"Find the source code on GitHub"}),r.a.createElement("p",null,"Frontend"," ",r.a.createElement("a",{href:"https://github.com/palagina/art_collection_front"},"HERE")," ","and backend"," ",r.a.createElement("a",{href:"https://github.com/palagina/art_collection_back"},"HERE")," ","HERE")),r.a.createElement(te.a,{inverted:!0,section:!0}),r.a.createElement(ne.a,{horizontal:!0,inverted:!0,divided:!0,link:!0,size:"small"},r.a.createElement(ne.a.Item,{as:"a",href:"#"},"Site Map"),r.a.createElement(ne.a.Item,{as:"a",href:"#"},"Contact Us"),r.a.createElement(ne.a.Item,{as:"a",href:"#"},"Terms and Conditions"),r.a.createElement(ne.a.Item,{as:"a",href:"#"},"Privacy Policy"))))})),re=Object(o.b)((function(e){return{users:e.users}}),null)((function(e){return r.a.createElement(S.a,{striped:!0,celled:!0},r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Row,null,r.a.createElement(S.a.Cell,null,"Name"),r.a.createElement(S.a.Cell,null,"No of posts")),e.users.map((function(e){return r.a.createElement(S.a.Row,{key:e.id},r.a.createElement(S.a.Cell,null,r.a.createElement(A.b,{to:"/users/".concat(e.id)},e.username)),r.a.createElement(S.a.Cell,null,e.posts.length))}))))})),ce=Object(o.b)(null,null)((function(e){return void 0===e.user?null:r.a.createElement(w.a,null,r.a.createElement(k.a,{size:"large",style:{paddingTop:"30px"}},e.user.username),r.a.createElement(k.a,{size:"medium"},"Added articles"),r.a.createElement(ne.a,null,e.user.posts.map((function(e){return r.a.createElement(ne.a.Item,{key:e.id},r.a.createElement(A.b,{to:"/posts/".concat(e.id)},e.title))}))))})),ue="https://article-collection-mp.herokuapp.com/api/posts",oe={getAllComments:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(ue,"/").concat(t,"/comments"),e.next=3,d.a.get(n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addComment:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:F}},a="".concat(ue,"/").concat(t.postId,"/comments"),e.next=4,d.a.post(a,t,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_COMMENTS":return t.data;case"NEW_COMMENT":return[].concat(Object(R.a)(e),[t.data]);default:return e}},ie=n(210),se={addComment:function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.addComment(e);case 2:a=t.sent,n({type:"NEW_COMMENT",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},pe=Object(o.b)((function(e){return{comments:e.comments}}),se)((function(e){var t=e.comments,n=e.postId,a=e.userId,c=function(){var t=Object(s.a)(i.a.mark((function t(r){var c,u,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),c=new Date,u=c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear()+" at "+c.getHours()+":"+c.getMinutes(),o={postId:n,userId:a,text:r.target.comment.value,timestamp:u},r.target.comment.value="",t.prev=5,t.next=8,e.addComment(o);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),e.error(t.t0.response.data.error,30);case 13:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(w.a,{style:{paddingTop:"30px"}},r.a.createElement(ie.a.Group,null,r.a.createElement(k.a,{as:"h3",dividing:!0},"Comments"),r.a.createElement(j.a,{reply:!0,onSubmit:c},r.a.createElement(j.a.TextArea,Object.assign({name:"comment",placeholder:"Write your comment:"},t.text)),r.a.createElement(C.a,{content:"Add Reply",labelPosition:"left",icon:"edit",color:"violet"})),r.a.createElement(ne.a,null,e.comments.filter((function(e){return n===e.postId})).map((function(e){return r.a.createElement(ne.a.Item,{key:e.id},r.a.createElement(ie.a,null,r.a.createElement(ie.a.Avatar,{src:["https://react.semantic-ui.com/images/avatar/small/matt.jpg","https://react.semantic-ui.com/images/avatar/small/elliot.jpg","https://react.semantic-ui.com/images/avatar/small/jenny.jpg","https://react.semantic-ui.com/images/avatar/small/joe.jpg","https://react.semantic-ui.com/images/avatar/small/stevie.jpg","https://react.semantic-ui.com/images/avatar/small/steve.jpg"][Math.floor(Math.random()*Math.floor(5))]}),r.a.createElement(ie.a.Content,null,r.a.createElement(ie.a.Author,{as:"a"},"Anonyme"),r.a.createElement(ie.a.Metadata,null,r.a.createElement("div",null,e.timestamp)),r.a.createElement(ie.a.Text,null,e.text))))})))))})),me=n(43),fe=n(91),de=function(e){return r.a.createElement(C.a,{style:{marginTop:"10px"},value:e.post.id,onClick:e.deletePost,color:"red"},"Remove")},Ee=Object(O.f)((function(e){var t=e.post,n=e.user;return void 0===e.post?null:r.a.createElement(w.a,null,r.a.createElement(k.a,{size:"large"},t.name),r.a.createElement(k.a,{as:"h3"},"Author: ",t.author),r.a.createElement(k.a,{as:"h2"},r.a.createElement("a",{href:t.url,rel:"noopener noreferrer",target:"_blank"}," ","Read here and tell us what you think in the comments!")),r.a.createElement(k.a,{as:"h3"},"Created by: ",t.user.username," "),r.a.createElement(C.a,{as:"div",labelPosition:"right",style:{marginTop:"20px"}},r.a.createElement(C.a,{color:"violet",onClick:function(){try{e.updateLikes(t),e.like_notification(t.title,20)}catch(n){e.error(n.response.data.error,30)}}},r.a.createElement(me.a,{name:"heart"}),"Like"),r.a.createElement(fe.a,{as:"a",basic:!0,color:"violet",pointing:"left"},t.likes)),r.a.createElement(w.a,null,null!==n?r.a.createElement(de,{post:t,deletePost:function(){try{e.history.push("/"),e.deletePost(t),e.delete_notification(t.title,20)}catch(n){console.log(n)}}}):null),r.a.createElement(pe,{postId:t.id}))})),ve={updateLikes:function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.updateLikes(e);case 2:a=t.sent,n({type:"LIKE",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deletePost:function(e){return function(){var t=Object(s.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.remove(e);case 2:n({type:"DELETE",data:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},like_notification:function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"LIKE_NOTIFICATION",data:e}),setTimeout((function(){return a({type:"EMPTY"})}),t+"00");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},delete_notification:function(e,t){return function(){var n=Object(s.a)(i.a.mark((function n(a){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"DELETE_NOTIFICATION",data:e}),setTimeout((function(){return a({type:"EMPTY"})}),t+"00");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},error:p},he=Object(o.b)(null,ve)(Ee),be={getUsers:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://article-collection-mp.herokuapp.com/api/users");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return t.data;default:return e}},ye={initializePosts:function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getAll();case 2:n=e.sent,t({type:"INIT_POSTS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logout:v,setUser:h,getUsers:function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.getUsers();case 2:n=e.sent,t({type:"GET_USERS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},initComments:function(){return function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.getAllComments();case 2:n=e.sent,t({type:"INIT_COMMENTS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Oe=Object(o.b)((function(e){return{user:e.login,users:e.users,posts:e.posts}}),ye)((function(e){Object(a.useEffect)((function(){var t=window.localStorage.getItem("loggedBlogAppUser");if(t){var n=JSON.parse(t);F.setToken(n.token),e.setUser(n.username)}e.getUsers(),e.initializePosts(),e.initComments().catch((function(e){console.log(e.message)}))}),[]);var t=function(){return r.a.createElement("div",null,r.a.createElement(k.a,{size:"large",style:{padding:"30px 0px"}},"ARTICLES COLLECTION"),r.a.createElement(Z,{user:e.user}),r.a.createElement(T,null))};return r.a.createElement(w.a,null,r.a.createElement(A.a,null,r.a.createElement(w.a,null,r.a.createElement(w.a,null,""===e.user?r.a.createElement(O.a,{to:"/login"}):r.a.createElement(O.a,{to:"/"})),r.a.createElement(O.b,{exact:!0,path:"/",render:function(){return r.a.createElement(w.a,null,r.a.createElement(t,null),r.a.createElement(q,{user:e.user}),r.a.createElement(ae,null))}}),r.a.createElement(O.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(_,null)}}),r.a.createElement(O.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(w.a,null,r.a.createElement(t,null),r.a.createElement(re,{user:e.user}),r.a.createElement(ae,null))}}),r.a.createElement(O.b,{path:"/users/:id",render:function(n){var a,c=n.match;return r.a.createElement(w.a,null,r.a.createElement(t,null),r.a.createElement(ce,{user:(a=c.params.id,e.users.find((function(e){return e.id===a})))}),r.a.createElement(ae,null))}}),r.a.createElement(O.b,{exact:!0,path:"/posts/:id",render:function(n){var a,c=n.match;return r.a.createElement(w.a,null,r.a.createElement(t,null),r.a.createElement(he,{post:(a=c.params.id,e.posts.find((function(e){return e.id===a})))}),r.a.createElement(ae,null))}}))))})),we=n(60),xe=n(147),Te=n(148),ke=Object(we.combineReducers)({posts:D,filter:G,notification:z,error:m,login:b,users:ge,comments:le}),je=Object(we.createStore)(ke,Object(xe.composeWithDevTools)(Object(we.applyMiddleware)(Te.a)));u.a.render(r.a.createElement(o.a,{store:je},r.a.createElement(Oe,null)),document.getElementById("root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.6f0207ce.chunk.js.map